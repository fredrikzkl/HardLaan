<div class="loading" *ngIf="loading" >
    <img src="/Content/Image/spin.svg" />

</div>

<div *ngIf="showSuccess">
    <h4>Succsessio</h4>
</div>

<div class="col-lg-8 col-lg-offset-2 text-center" *ngIf="showForm" >
    <div class="call-to-action">
        <form [formGroup]="ApplyForm" (ngSubmit)="onSubmit()">

            <h4>Personlige Opplysninger</h4>
            <div class="form-group">
                <label for="userIdInput">Personnummer</label>
                <div class="inner-addon right-addon">
                    <span [hidden]="!ApplyForm.controls.userid.valid"><i class="fa fa-check" ></i></span>
                    <input id="userIdInput" class="form-control" required formControlName="userid"  />
                </div>
                <p class="alert alert-info" [hidden]="ApplyForm.controls.userid.valid || (ApplyForm.controls.userid.pristine && !submitted)">
                    Personnummer må være 11 siffer.
                </p>
            </div>

            <div class="form-group">
                <label for="emailInput">Epost</label>
                <div class="inner-addon right-addon">
                    <span [hidden]="!ApplyForm.controls.email.valid"><i class="fa fa-check"></i></span>
                    <input id="emailInput" class="form-control"  required formControlName="email" type="email" />
                </div>
                <p class="alert alert-info" [hidden]="ApplyForm.controls.email.valid || (ApplyForm.controls.email.pristine && !submitted)">
                    Gyldig email er obligatorisk.
                </p>
            </div>

            <div class="form-group">
                <label for="phoneInput">Mobilnummer</label>
                <div class="inner-addon right-addon">
                    <span [hidden]="!ApplyForm.controls.phone.valid"><i class="fa fa-check"></i></span>
                    <input id="phoneInput" class="form-control" required formControlName="phone" />
                </div>
                <p class="alert alert-info" [hidden]="ApplyForm.controls.phone.valid || (ApplyForm.controls.phone.pristine && !submitted)">
                    Telefonnr kan kun være 8-15 siffer
                </p>
            </div>


            <h4>Låneinformasjon</h4>

            <div class="form-group">
                <label for="amountInput">Lånebeløp</label>
                <div class="inner-addon right-addon">
                    <span [hidden]="!ApplyForm.controls.amount.valid"><i class="fa fa-check"></i></span>
                    <input id="amountInput" class="form-control" required formControlName="amount" />
                </div>
                <p class="alert alert-info" [hidden]="ApplyForm.controls.amount.valid || (ApplyForm.controls.amount.pristine && !submitted)">
                    Gyldig beløp må være fyllt ut
                </p>
            </div>

            <div class="form-group">
                <label for="monthselect">Nedbetalingstid</label>
                <select id="monthselect" class="form-control" required formControlName="months" placeholder="Antall måneder">
                    <option *ngFor="let m of monthChoices" [value]="m">{{m}} måneder</option>
                </select>
                <p class="alert alert-info" [hidden]="ApplyForm.controls.months.valid || (ApplyForm.controls.months.pristine && !submitted)">
                    Velg en nedbetalingstid
                </p>
            </div>



            <div class="form-group">
                <button type="submit" [disabled]="!ApplyForm.valid" class="btn btn-primary regular-btn" >Neste</button>
            </div>

        </form>
    </div>
</div>


<div class="col-lg-8 col-lg-offset-2 text-faded"  *ngIf="showConfirmation">
    <div id="summary">
        <h3>Oppsummering</h3>
        <p>Personnummer: {{tempID}}</p>
        <p>Epost: {{tempEmail}}</p>
        <p>Telefonnr: {{tempPhone}}</p>
        <p>Beløp: {{tempAmount}}</p>
        <p>Nedbetalingstid: {{tempMonths}} måneder</p>
        <p>Rente: 0.07%</p>
        <p>Måntlig Betaling: {{tempPay}} NOK</p>
    </div>
      
    <button class="btn btn-default regular-btn " (click)="backToForm()">Tilbake</button>
    <button class="btn btn-default regular-btn" (click)="addApplication()">Send Søknad</button>
        
</div>